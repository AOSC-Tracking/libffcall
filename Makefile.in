# Makefile for ffcall

#### Start of system configuration section. ####

# Directories used by "make install":
prefix = @prefix@
local_prefix = /usr/local
exec_prefix = @exec_prefix@
libdir = @libdir@
includedir = @includedir@
mandir = @mandir@
datarootdir = @datarootdir@

# Programs used by "make":
RM = rm -f
@SET_MAKE@

#### End of system configuration section. ####

SHELL = /bin/sh

all : force
	cd @subdir@ && $(MAKE) all

install : force
	cd @subdir@ && $(MAKE) install

installdirs : force
	cd @subdir@ && $(MAKE) installdirs

uninstall : force
	cd @subdir@ && $(MAKE) uninstall

check : force
	cd @subdir@ && $(MAKE) check

extracheck : force
	cd @subdir@ && $(MAKE) extracheck

mostlyclean : force
	cd @subdir@ && $(MAKE) mostlyclean

clean : force
	cd @subdir@ && $(MAKE) clean

DISTCLEANFILES = config.status config.log config.cache Makefile

distclean : force
	cd @subdir@; if test -f Makefile; then $(MAKE) distclean; fi
	$(RM) $(DISTCLEANFILES)

maintainer-clean : force
	cd @subdir@; if test -f Makefile; then $(MAKE) maintainer-clean; fi
	$(RM) $(DISTCLEANFILES)


# List of source files (committed in version control).
SOURCE_FILES = \
  COPYING NEWS PLATFORMS README README.os2 README.win32 \
  ChangeLog \
  VERSION \
  Makefile.devel \
  Makefile.maint \
  Makefile.in Makefile.mingw32 Makefile.msvc \
  configure.ac \
  m4/as-underscore.m4 \
  m4/binfmt-elf.m4 \
  m4/cc-gcc.m4 \
  m4/codeexec.m4 \
  m4/general.m4 \
  m4/getpagesize.m4 \
  m4/ireg.m4 \
  m4/ln.m4 \
  m4/mach-vm.m4 \
  m4/mmap.m4 \
  m4/mprotect.m4 \
  m4/pccstruct.m4 \
  m4/proto.m4 \
  m4/shm.m4 \
  m4/smallstruct.m4 \
  common/asm-arm.sh common/asm-arm.h \
  common/asm-i386.sh common/asm-i386.hh \
  common/asm-m68k.sh common/asm-m68k.h \
  common/asm-mips.sh common/asm-mips.h \
  common/asm-sparc.sh common/asm-sparc64.sh common/asm-sparc.h \
  common/asm-x86_64.sh common/asm-x86_64.h \
  common/structcpy.c \
  common/uniq-u.c
# List of distributed files imported from other packages or directories.
LIBTOOL_IMPORTED_FILES = \
  build-aux/ltmain.sh \
  m4/libtool.m4 \
  m4/lt~obsolete.m4 \
  m4/ltoptions.m4 \
  m4/ltsugar.m4 \
  m4/ltversion.m4
GNULIB_IMPORTED_FILES = \
  build-aux/ar-lib \
  build-aux/compile \
  build-aux/config.guess \
  build-aux/config.sub \
  build-aux/install-sh \
  glm4/*.m4
IMPORTED_FILES = $(LIBTOOL_IMPORTED_FILES) $(GNULIB_IMPORTED_FILES)
# List of files copied by autogen.sh.
COPIED_FILES = \
  callback/vacall_r/vacall-arm.c \
  callback/vacall_r/vacall-armel.c \
  callback/vacall_r/vacall-hppa.c \
  callback/vacall_r/vacall-i386.c \
  callback/vacall_r/vacall-ia64.c \
  callback/vacall_r/vacall-m68k.c \
  callback/vacall_r/vacall-mips.c \
  callback/vacall_r/vacall-mipsn32.c \
  callback/vacall_r/vacall-mips64.c \
  callback/vacall_r/vacall-powerpc.c \
  callback/vacall_r/vacall-powerpc64.c \
  callback/vacall_r/vacall-powerpc64le.c \
  callback/vacall_r/vacall-s390.c \
  callback/vacall_r/vacall-sparc.c \
  callback/vacall_r/vacall-sparc64.c \
  callback/vacall_r/vacall-x86_64.c \
  callback/trampoline_r/PORTING \
  callback/trampoline_r/cache.c \
  callback/trampoline_r/cache-alpha.c \
  callback/trampoline_r/cache-alpha.s \
  callback/trampoline_r/cache-arm.c \
  callback/trampoline_r/cache-arm.s \
  callback/trampoline_r/cache-armel.c \
  callback/trampoline_r/cache-armel.s \
  callback/trampoline_r/cache-hppa.c \
  callback/trampoline_r/cache-hppa.s \
  callback/trampoline_r/cache-powerpc.c \
  callback/trampoline_r/cache-powerpc-macos.s \
  callback/trampoline_r/cache-powerpc-sysv4.s
# List of distributed files generated by Makefile.maint.
GENERATED_FILES = \
  aclocal.m4 \
  configure \
  avcall/configure \
  avcall/config.h.in \
  vacall/configure \
  vacall/config.h.in \
  trampoline/configure \
  trampoline/config.h.in \
  callback/configure \
  callback/config.h.in \
  callback/vacall_r/configure \
  callback/vacall_r/config.h.in \
  callback/trampoline_r/configure \
  callback/trampoline_r/config.h.in \
  common/asm-i386.h
# List of distributed files.
DISTFILES = $(SOURCE_FILES) $(IMPORTED_FILES) $(COPIED_FILES) $(GENERATED_FILES)

distdir : $(DISTFILES)
	for file in $(DISTFILES); do \
	  if test -f $$file; then dir='.'; else dir='$(srcdir)'; fi; \
	  destdir=`echo '$(distdir)'/$$file | sed -e 's|//*[^/]*$$||'`; \
	  test -d "$$destdir" || mkdir -p "$$destdir"; \
	  cp -p "$$dir/$$file" '$(distdir)'/$$file || exit 1; \
	done
	test -d '$(distdir)'/@subdir@ || mkdir '$(distdir)'/@subdir@; cd @subdir@ && $(MAKE) distdir distdir='$(distdir)'/@subdir@


# Creating a distribution tarball.
# Example: make dist VERSION=1.13-pre-20161227
PACKAGE = @PACKAGE_TARNAME@
VERSION = @VERSION@
TAR = tar
GZIP = gzip

dist : force
	tmpdistdir=$(PACKAGE)-$(VERSION); \
	abstmpdistdir=`pwd`/$$tmpdistdir; \
	rm -rf $$tmpdistdir $$tmpdistdir.tar $$tmpdistdir.tar.gz \
	  && mkdir $$tmpdistdir \
	  && $(MAKE) distdir distdir="$$abstmpdistdir" \
	  && $(TAR) chof $$tmpdistdir.tar --owner=root --group=root $$tmpdistdir \
	  && $(GZIP) -9 $$tmpdistdir.tar \
	  && rm -rf $$tmpdistdir


force :

